<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>XL Tools - Cek Nomer & Kuota XL</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
  
  <style>
    /* ... (CSS Anda yang lain tetap sama) ... */
    body {
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top left, #0f172a, #020617);
      color: white;
      min-height: 100vh;
      padding: 1.5rem;
    }
    .glass {
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(18px);
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: 0 6px 30px rgba(0,0,0,0.35);
      transition: all 0.3s ease;
    }
    .neon {
      color: #22d3ee;
      text-shadow: 0 0 8px #22d3ee, 0 0 18px #0ea5e9;
    }
    .progress-bar {
      height: 8px;
      border-radius: 10px;
      background: linear-gradient(90deg, #06b6d4, #3b82f6, #22d3ee);
      background-size: 200% 100%;
      animation: move 2s linear infinite;
      transition: width 0.6s ease;
    }
    @keyframes move {
      from { background-position: 0% 0%; }
      to { background-position: 200% 0%; }
    }
    .fade { 
      opacity: 0; 
      animation: fadeInUp 0.8s ease-out forwards; 
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .card-glow:hover {
      box-shadow: 0 0 25px rgba(34,211,238,0.5);
      transform: scale(1.03);
    }
    .modal-fade { animation: modalFadeIn 0.3s ease; }
    @keyframes modalFadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .modal-content-fade { animation: modalContentIn 0.3s ease; }
    @keyframes modalContentIn {
      from { opacity: 0; transform: translateY(10px) scale(0.98); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    .nav-active {
      color: #22d3ee;
      font-weight: 600;
    }
    /* ... (CSS Slider Anda tetap sama) ... */
    .slider-container {
      position: relative;
      width: 100%;
      padding-top: 45%; 
      border-radius: 1.5rem; 
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
      background-color: #0f172a;
    }
    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 1.2s ease-in-out;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }
    .slide.active { opacity: 1; }
    .slider-dots {
      position: absolute;
      bottom: 1.5rem; 
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.75rem; 
      z-index: 20; 
    }
    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: rgba(255,255,255,0.4);
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .dot.active {
      background-color: #22d3ee; 
      transform: scale(1.2); 
    }
    .slider-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: transparent;
      color: white;
      padding: 0.75rem 1rem;
      border-radius: 9999px; 
      cursor: pointer;
      z-index: 20;
      font-size: 1.5rem;
      transition: background 0.3s ease, transform 0.3s ease;
    }
    .slider-arrow:hover {
      background: rgba(0,0,0,0.3);
      transform: translateY(-50%) scale(1.1);
    }
    .slider-arrow.left { left: 1.5rem; }
    .slider-arrow.right { right: 1.5rem; }
    @media (max-width: 768px) {
      /* ... (CSS Media Query Anda tetap sama) ... */
    }
  </style>
</head>
<body>

  <div id="sidebarOverlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-30 hidden"></div>

  <div id="sidebarMenu" class="fixed top-0 left-0 h-full w-64 bg-slate-900 shadow-xl z-40 p-6 transform -translate-x-full transition-transform duration-300 ease-in-out">
    <div class="flex justify-between items-center mb-8">
      <div class="text-xl font-bold neon">
        <i class="fa-solid fa-bolt mr-1"></i>Menu
      </div>
      <button id="closeSidebarBtn" class="text-3xl text-slate-400 hover:text-white leading-none">&times;</button>
    </div>
    
    <nav class="flex flex-col gap-4">
      <a href="#" id="berandaNavBtnMobile" class="text-lg text-slate-300 hover:text-cyan-400 transition nav-active">Beranda</a>
      <a href="#" id="cekKuotaNavBtnMobile" class="text-lg text-slate-300 hover:text-cyan-400 transition">Cek Kuota</a>
      <a href="#" id="cekMyIpNavBtnMobile" class="text-lg text-slate-300 hover:text-cyan-400 transition">Cek MyIp</a>
      <a href="#" id="cekIpHostNavBtnMobile" class="text-lg text-slate-300 hover:text-cyan-400 transition">Cek IP Host</a>
      <a href="#" id="converterNavBtnMobile" class="text-lg text-slate-300 hover:text-cyan-400 transition">Converter</a>
      <a href="#" id="aboutNavBtnMobile" class="text-lg text-slate-300 hover:text-cyan-400 transition">About</a>
      <a href="https://chat.whatsapp.com/H4wD01XzngRJo3ORjKKV3V" target="_blank" rel="noopener noreferrer" 
         class="mt-4 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold px-4 py-2 rounded-full hover:scale-105 transition-all text-center">
        Paket Murah
      </a>
    </nav>
  </div>


  <div class="w-full max-w-4xl mx-auto"> 

    <nav class="glass p-4 rounded-full w-full mb-6 flex flex-row justify-between items-center fade gap-4" style="animation-delay: 0.1s;">
      <div class="text-xl font-bold neon">
        <i class="fa-solid fa-bolt mr-1"></i>XL Tools
      </div>
      
      <div class="hidden sm:flex gap-5 items-center">
        <a href="#" id="berandaNavBtnDesktop" class="text-slate-300 hover:text-cyan-400 transition nav-active">Beranda</a>
        <a href="#" id="cekKuotaNavBtnDesktop" class="text-slate-300 hover:text-cyan-400 transition">Cek Kuota</a>
        <a href="#" id="cekMyIpNavBtnDesktop" class="text-slate-300 hover:text-cyan-400 transition">Cek MyIp</a>
        <a href="#" id="cekIpHostNavBtnDesktop" class="text-slate-300 hover:text-cyan-400 transition">Cek IP Host</a>
        <a href="#" id="converterNavBtnDesktop" class="text-slate-300 hover:text-cyan-400 transition">Converter</a>
        <a href="#" id="aboutNavBtnDesktop" class="text-slate-300 hover:text-cyan-400 transition">About</a>
        <a href="https://chat.whatsapp.com/H4wD01XzngRJo3ORjKKV3V" target="_blank" rel="noopener noreferrer" 
           class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold px-4 py-2 rounded-full hover:scale-105 transition-all">
          Paket Murah
        </a>
      </div>

      <button id="hamburgerBtn" class="sm:hidden text-2xl text-white p-2">
        <i class="fa-solid fa-bars"></i>
      </button>
    </nav>

    <div id="berandaSection" class="w-full">
      <div class="slider-container mb-8 fade" style="animation-delay: 0.3s;">
        <div class="slide active" style="background-image: url('https://i.postimg.cc/gJHnwGTx/987803-720.jpg');"></div>
        <div class="slide" style="background-image: url('https://i.postimg.cc/hjBXPXpc/bundling-esim-xl-axiata-169.jpg');"></div>
        <div class="slide" style="background-image: url('https://i.postimg.cc/26D1812b/Go4DOdfa-YAAul-Jg-scaled.webp');"></div>
        <div class="slide" style="background-image: url('https://i.postimg.cc/DZTSySB0/images-5.jpg');"></div>
        <div class="slide" style="background-image: url('https://i.postimg.cc/gJHnwGTj/Resize-20241224-104444-4741.jpg');"></div>
        <div class="slide" style="background-image: url('https://i.postimg.cc/wvQ7t9Gj/XL-Axiata.jpg');"></div>
        <div class="slide" style="background-image: url('https://i.postimg.cc/k4m2X2f8/XL-Satu-Hadirkan-Penawaran-Spesial-1068x621.webp');"></div>
        <div class="slide" style="background-image: url('https://i.postimg.cc/nzGCsnPC/xl-xtra-unlimited-turbo.jpg');"></div>
        <div class="slider-dots"></div>
        <div class="slider-arrow left" id="prevSlideBtn"><i class="fa-solid fa-chevron-left"></i></div>
        <div class="slider-arrow right" id="nextSlideBtn"><i class="fa-solid fa-chevron-right"></i></div>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        
        <div id="cekKuotaCardBtn" class="glass card-glow p-6 rounded-2xl border border-cyan-400/20 text-center cursor-pointer fade" style="animation-delay: 0.5s;">
          <i class="fa-solid fa-magnifying-glass text-4xl neon mb-4"></i>
          <h2 class="text-xl font-semibold text-cyan-300 mb-2">Cek Kuota & Nomer</h2>
          <p class="text-slate-400 text-sm">Lihat detail nomer, masa aktif, dan sisa kuota Anda.</p>
        </div>
        
        <div id="cekMyIpCardBtn" class="glass card-glow p-6 rounded-2xl border border-cyan-400/20 text-center cursor-pointer fade" style="animation-delay: 0.6s;">
          <i class="fa-solid fa-network-wired text-4xl neon mb-4"></i>
          <h2 class="text-xl font-semibold text-cyan-300 mb-2">Cek MyIp</h2>
          <p class="text-slate-400 text-sm">Lihat alamat IP publik, lokasi, dan provider internet Anda.</p>
        </div>
        
        <div id="cekIpHostCardBtn" class="glass card-glow p-6 rounded-2xl border border-cyan-400/20 text-center cursor-pointer fade" style="animation-delay: 0.7s;">
          <i class="fa-solid fa-magnifying-glass-location text-4xl neon mb-4"></i>
          <h2 class="text-xl font-semibold text-cyan-300 mb-2">Cek IP Host</h2>
          <p class="text-slate-400 text-sm">Cari alamat IP (A/AAAA) dari sebuah domain.</p>
        </div>
        
        <div id="converterCardBtn" class="glass card-glow p-6 rounded-2xl border border-cyan-400/20 text-center cursor-pointer fade" style="animation-delay: 0.8s;">
          <i class="fa-solid fa-sync-alt text-4xl neon mb-4"></i>
          <h2 class="text-xl font-semibold text-cyan-300 mb-2">V2ray Converter</h2>
          <p class="text-slate-400 text-sm">Konversi link V2ray ke format Clash atau Json.</p>
        </div>

        <a href="https://chat.whatsapp.com/H4wD01XzngRJo3ORjKKV3V" target="_blank" rel="noopener noreferrer"
           class="glass card-glow p-6 rounded-2xl border border-cyan-400/20 text-center block fade" style="animation-delay: 0.9s;">
          <i class="fa-solid fa-tags text-4xl neon mb-4"></i>
          <h2 class="text-xl font-semibold text-cyan-300 mb-2">Paket Murah</h2>
          <p class="text-slate-400 text-sm">Dapatkan penawaran paket internet data dengan harga terbaik.</p>
        </a>
        
        <div id="aboutCardBtn" class="glass card-glow p-6 rounded-2xl border border-cyan-400/20 text-center cursor-pointer fade" style="animation-delay: 1.0s;">
          <i class="fa-solid fa-circle-info text-4xl neon mb-4"></i>
          <h2 class="text-xl font-semibold text-cyan-300 mb-2">Tentang Kami</h2>
          <p class="text-slate-400 text-sm">Informasi lebih lanjut mengenai alat bantu gratis ini.</p>
        </div>
      </div>
    </div>
    
    <div id="cekKuotaSection" class="glass p-8 rounded-3xl w-full fade hidden">
      <h1 class="text-3xl font-bold mb-4 neon text-center">
        <i class="fa-solid fa-bolt mr-2"></i>Cek Nomer & Kuota XL
      </h1>
      <p class="text-slate-300 mb-6 text-center">
        Masukkan nomor XL Anda untuk melihat informasi kartu dan paket aktif.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 mb-6">
        <input id="nomor" type="tel" placeholder="Masukkan nomor (08... / 62...)" 
          class="flex-1 px-4 py-3 rounded-xl text-gray-900 border border-cyan-400/40 focus:ring-2 focus:ring-cyan-500 outline-none">
        <button id="cekBtn" 
          class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold px-6 py-3 rounded-xl hover:scale-105 transition-all">
          <i class="fa-solid fa-magnifying-glass mr-2"></i>Cek
        </button>
      </div>
      <div id="loading" class="hidden text-cyan-300 text-center py-4">
        <i class="fa-solid fa-circle-notch fa-spin mr-2"></i>Memproses...
      </div>
      <div id="error" class="hidden text-red-400 text-center py-2 font-medium"></div>
      <div id="hasil" class="hidden fade">
        <div class="glass p-4 rounded-2xl mb-6 border border-cyan-400/20 fade">
          <h2 class="text-xl font-semibold mb-4 text-cyan-400">
            <i class="fa-solid fa-user-circle mr-2"></i>Informasi Nomer
          </h2>
          <div id="info" class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-slate-200"></div>
        </div>
        <h2 class="text-xl font-semibold mb-4 text-cyan-400">
          <i class="fa-solid fa-database mr-2"></i>Daftar Paket Aktif
        </h2>
        <div id="kuotaList" class="grid gap-4 sm:grid-cols-1 lg:grid-cols-2"></div>
      </div>
    </div>
    
    <div id="cekMyIpSection" class="glass p-8 rounded-3xl w-full fade hidden">
       <h1 class="text-3xl font-bold mb-4 neon text-center">
        <i class="fa-solid fa-network-wired mr-2"></i>Cek MyIp Publik
      </h1>
      <p class="text-slate-300 mb-6 text-center">
        Klik tombol di bawah untuk menampilkan informasi IP publik Anda.
      </p>
      <div class="flex justify-center mb-6">
        <button id="cekMyIpBtn" 
          class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold px-6 py-3 rounded-xl hover:scale-105 transition-all">
          <i class="fa-solid fa-search-location mr-2"></i>Tampilkan IP Saya
        </button>
      </div>
      <div id="myIpLoading" class="hidden text-cyan-300 text-center py-4">
        <i class="fa-solid fa-circle-notch fa-spin mr-2"></i>Mencari IP...
      </div>
      <div id="myIpError" class="hidden text-red-400 text-center py-2 font-medium"></div>
      
      <div id="myIpHasil" class="hidden fade">
        <div class="glass p-4 rounded-2xl border border-cyan-400/20 fade">
          <h2 class="text-xl font-semibold mb-4 text-cyan-400">
            <i class="fa-solid fa-server mr-2"></i>Informasi Jaringan Anda
          </h2>
          <div id="myIpInfo" class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-slate-200">
          </div>
        </div>
      </div>
    </div>
    
    <div id="cekIpHostSection" class="glass p-8 rounded-3xl w-full fade hidden">
      <h1 class="text-3xl font-bold mb-4 neon text-center">
        <i class="fa-solid fa-magnifying-glass-location mr-2"></i>Cek IP Hostname
      </h1>
      <p class="text-slate-300 mb-6 text-center">
        Masukkan hostname (cth: google.com) untuk melihat alamat IP-nya.
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 mb-6">
        <input id="hostnameInput" type="text" placeholder="Masukkan hostname (cth: google.com)" 
          class="flex-1 px-4 py-3 rounded-xl text-gray-900 border border-cyan-400/40 focus:ring-2 focus:ring-cyan-500 outline-none">
        <button id="cekHostBtn" 
          class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold px-6 py-3 rounded-xl hover:scale-105 transition-all">
          <i class="fa-solid fa-search mr-2"></i>Cek IP
        </button>
      </div>
      
      <div id="hostLoading" class="hidden text-cyan-300 text-center py-4">
        <i class="fa-solid fa-circle-notch fa-spin mr-2"></i>Mencari IP & Detail...
      </div>
      <div id="hostError" class="hidden text-red-400 text-center py-2 font-medium"></div>
      
      <div id="hostHasil" class="hidden fade">
        <div class="glass p-4 rounded-2xl border border-cyan-400/20 fade">
          <div class="flex justify-between items-center mb-3">
            <h2 class="text-xl font-semibold text-cyan-400">
              <i class="fa-solid fa-check-circle mr-2"></i>Hasil Lookup
            </h2>
            <button id="copyHostBtn" class="bg-emerald-600 text-white font-semibold px-4 py-2 rounded-xl hover:bg-emerald-700 transition-all text-sm">
              <i class="fa-solid fa-copy mr-1"></i>Salin
            </button>
          </div>
          <textarea id="hostOutput" readonly 
            class="w-full h-80 p-3 rounded-lg bg-slate-900 text-slate-200 font-mono text-sm border border-slate-700 focus:ring-2 focus:ring-cyan-500 outline-none"></textarea>
        </div>
      </div>
    </div>

    <div id="converterSection" class="glass p-8 rounded-3xl w-full fade hidden">
      <h1 class="text-3xl font-bold mb-4 neon text-center">
        <i class="fa-solid fa-sync-alt mr-2"></i>V2ray to Clash Converter
      </h1>
      <p class="text-slate-300 mb-6 text-center">
        Tempelkan link (vmess, vless, ss, trojan) satu per baris untuk dikonversi.
      </p>

      <textarea id="convertUrls" rows="6" placeholder="vmess://...&#10;vless://...&#10;ss://...&#10;trojan://..." 
        class="w-full p-3 rounded-xl text-gray-900 border border-cyan-400/40 focus:ring-2 focus:ring-cyan-500 outline-none mb-4 font-mono text-sm"></textarea>

      <div class="flex flex-col sm:flex-row gap-4 mb-6">
        <select id="convertOutputFormat" 
          class="flex-1 px-4 py-3 rounded-xl text-gray-900 border border-cyan-400/40 focus:ring-2 focus:ring-cyan-500 outline-none">
          <option value="clash_full">Clash (Full Config)</option>
          <option value="clash_proxies">Clash (Proxies Only)</option>
          <option value="json">Json</option>
        </select>
        <button id="convertBtn" 
          class="bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold px-6 py-3 rounded-xl hover:scale-105 transition-all">
          <i class="fa-solid fa-cog mr-2"></i>Convert
        </button>
      </div>

      <div id="convertLoading" class="hidden text-cyan-300 text-center py-4">
        <i class="fa-solid fa-circle-notch fa-spin mr-2"></i>Mengonversi...
      </div>
      <div id="convertError" class="hidden text-red-400 text-center py-2 font-medium"></div>

      <div id="convertHasil" class="hidden fade">
        <div class="glass p-4 rounded-2xl border border-cyan-400/20 fade">
          <div class="flex justify-between items-center mb-3">
            <h2 class="text-xl font-semibold text-cyan-400">
              <i class="fa-solid fa-check-circle mr-2"></i>Hasil Konversi
            </h2>
            <button id="copyBtn" class="bg-emerald-600 text-white font-semibold px-4 py-2 rounded-xl hover:bg-emerald-700 transition-all text-sm">
              <i class="fa-solid fa-copy mr-1"></i>Salin
            </button>
          </div>
          
          <textarea id="convertOutput" readonly 
            class="w-full h-80 p-3 rounded-lg bg-slate-900 text-slate-200 font-mono text-sm border border-slate-700 focus:ring-2 focus:ring-cyan-500 outline-none"></textarea>
            
        </div>
      </div>
    </div>
    
    <footer class="mt-8 text-slate-500 text-sm text-center fade" style="animation-delay: 0.8s;">
      Dibuat oleh <span class="text-cyan-400 font-semibold">【﻿ 𝕀𝕥𝕤𝕓𝕒𝕕 𝕤𝕥𝕠𝕣𝕖 】</span> © 2024
    </footer>
  
  </div> 
  
  <div id="aboutModal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 hidden modal-fade">
    <div class="glass p-8 rounded-3xl w-full max-w-md border border-cyan-400/30 modal-content-fade">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold neon">
          <i class="fa-solid fa-circle-info mr-2"></i>About
        </h2>
        <button id="closeModalBtn" class="text-slate-400 hover:text-white transition text-3xl leading-none">&times;</button>
      </div>
      <div class="text-slate-300 space-y-3">
        <p>Tool ini dibuat untuk memudahkan pengecekan nomor, masa aktif, dan sisa kuota paket XL Axiata.</p>
        <p>Data diambil dari API XL langsung dan 100% akurat atau real-time. Gunakan dengan bijak.</p>
        <p class="pt-2">Dibuat oleh: <span class="text-cyan-400 font-semibold">【﻿ 𝕀𝕥𝕤𝕓𝕒𝕕 𝕤𝕥𝕠𝕣𝕖 】</span></p>
      </div>
    </div>
  </div>
  
  <script>
    // --- FUNGSI API (TETAP SAMA) ---
    function formatNumber(phone) {
      let cleaned = phone.replace(/\D/g, '');
      if (cleaned.startsWith('62')) return cleaned;
      if (cleaned.startsWith('0')) return '62' + cleaned.substring(1);
      if (cleaned.startsWith('8')) return '62' + cleaned;
      return cleaned;
    }
    async function fetchWithProxy(number) {
      const formatted = formatNumber(number);
      const url = `https://bendith.my.id/end.php?check=package&number=${formatted}&version=2`;
      const proxies = [
        `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`,
        `https://corsproxy.io/?${encodeURIComponent(url)}`,
        `https://thingproxy.freeboard.io/fetch/${encodeURIComponent(url)}`
      ];
      for (const proxy of proxies) {
        try {
          const res = await fetch(proxy);
          if (res.ok) return await res.json();
        } catch {}
      }
      throw new Error('Semua proxy gagal.');
    }

    // --- ELEMEN FORM CEK KUOTA (TETAP SAMA) ---
    const nomor = document.getElementById('nomor');
    const cekBtn = document.getElementById('cekBtn');
    const hasil = document.getElementById('hasil');
    const info = document.getElementById('info');
    const kuotaList = document.getElementById('kuotaList');
    const loading = document.getElementById('loading');
    const errorDiv = document.getElementById('error');

    // --- LOGIKA INPUT FORMATTER (TETAP SAMA) ---
    nomor.addEventListener('input', (e) => {
      const target = e.target;
      const originalValue = target.value;
      const cursorPosition = target.selectionStart;
      const cleanedValue = originalValue.replace(/\D/g, '');
      if (originalValue !== cleanedValue) {
        const nonDigitsBeforeCursor = (originalValue.substring(0, cursorPosition).match(/\D/g) || []).length;
        target.value = cleanedValue;
        const newCursorPosition = cursorPosition - nonDigitsBeforeCursor;
        target.selectionStart = newCursorPosition;
        target.selectionEnd = newCursorPosition;
      }
    });

    // --- LOGIKA TOMBOL CEK (TETAP SAMA) ---
    cekBtn.addEventListener('click', async () => {
      const no = nomor.value.trim(); 
      if (!no) return alert('Masukkan nomor terlebih dahulu.');
      if (!/^(08|62|8)\d{7,12}$/.test(no)) return alert('Format nomor salah. (Harus diawali 08, 62, atau 8)');
      hasil.classList.add('hidden');
      errorDiv.classList.add('hidden');
      loading.classList.remove('hidden');
      try {
        const data = await fetchWithProxy(no);
        loading.classList.add('hidden');
        if (!data.success) {
          errorDiv.textContent = data.message || 'Gagal mengambil data.';
          errorDiv.classList.remove('hidden');
          return;
        }
        hasil.classList.remove('hidden');
        const subs = data.data.subs_info;
        const paket = data.data.package_info;
        info.innerHTML = `
          <p><i class="fa-solid fa-phone mr-2 text-cyan-400"></i><b>Nomer XL:</b> ${subs.msisdn}</p>
          <p><i class="fa-solid fa-signal mr-2 text-cyan-400"></i><b>Operator:</b> ${subs.operator}</p>
          <p><i class="fa-solid fa-wifi mr-2 text-cyan-400"></i><b>Type Jaringan:</b> ${subs.net_type}</p>
          <p><i class="fa-solid fa-calendar-check mr-2 text-cyan-400"></i><b>Umur Kartu:</b> ${subs.tenure}</p>
          <p><i class="fa-solid fa-calendar-day mr-2 text-cyan-400"></i><b>Aktif Sampai:</b> ${subs.exp_date}</p>
          <p><i class="fa-solid fa-hourglass-half mr-2 text-cyan-400"></i><b>Masa Tenggang:</b> ${subs.grace_until}</p>
          <p><i class="fa-solid fa-mobile-screen-button mr-2 text-cyan-400"></i><b>VoLTE:</b> Device: ${subs.volte.device?'Ya':'Tidak'}, Area: ${subs.volte.area?'Ya':'Tidak'}, SIM: ${subs.volte.simcard?'Ya':'Tidak'}</p>
        `;
        kuotaList.innerHTML = '';
        if (paket.packages && paket.packages.length > 0) {
          paket.packages.forEach(p => {
            let quotaHTML = '';
            if (p.quotas && p.quotas.length) {
              p.quotas.forEach(q => {
                const percent = q.percent !== null && !isNaN(q.percent) ? Math.min(q.percent,100) : 0;
                quotaHTML += `<div class="mb-3"><p class="text-slate-300 text-sm mb-1"><b>${q.name}</b></p><p class="text-xs text-slate-400 mb-1">Total: ${q.total} | Sisa: ${q.remaining}</p><div class="w-full bg-slate-800 rounded-full h-2 overflow-hidden"><div class="progress-bar" style="width:${percent}%;"></div></div><p class="text-xs text-slate-400 mt-1 text-right">${percent}% tersisa</p></div>`;
              });
            } else {
              quotaHTML = `<p class="text-slate-400 text-sm">Tidak ada detail kuota.</p>`;
            }
            const exp = p.expiry_date || p.expiry || p.end_date || 'Tidak diketahui';
            kuotaList.innerHTML += `<div class="glass card-glow p-5 rounded-2xl border border-cyan-400/20 fade"><h3 class="font-semibold text-lg mb-3 text-cyan-300"><i class="fa-solid fa-box mr-2"></i>${p.name}</h3><p class="text-xs text-slate-400 mb-3"><i class="fa-regular fa-calendar mr-1 text-cyan-400"></i>Masa Aktif Paket Sampai: <b>${exp}</b></p>${quotaHTML}</div>`;
          });
        } else {
          kuotaList.innerHTML = '<p class="text-slate-400 text-center">Tidak ada paket aktif.</p>';
        }
      } catch (e) {
        loading.classList.add('hidden');
        errorDiv.textContent = 'Koneksi gagal, coba lagi.';
        errorDiv.classList.remove('hidden');
        console.error(e);
      }
    });
    nomor.addEventListener('keypress', e => {
      if (e.key === 'Enter') cekBtn.click();
    });

    // --- LOGIKA TOMBOL CEK MYIP (TETAP SAMA) ---
    const cekMyIpBtn = document.getElementById('cekMyIpBtn');
    const myIpLoading = document.getElementById('myIpLoading');
    const myIpError = document.getElementById('myIpError');
    const myIpHasil = document.getElementById('myIpHasil');
    const myIpInfo = document.getElementById('myIpInfo');
    
    cekMyIpBtn.addEventListener('click', async () => {
      myIpHasil.classList.add('hidden');
      myIpError.classList.add('hidden');
      myIpLoading.classList.remove('hidden');
      
      try {
        const response = await fetch('https://ipinfo.io/json');
        if (!response.ok) {
          throw new Error('Respon jaringan tidak OK');
        }
        const data = await response.json();
        myIpLoading.classList.add('hidden');
        myIpInfo.innerHTML = `
          <p><i class="fa-solid fa-map-pin mr-2 text-cyan-400"></i><b>IP Address:</b> ${data.ip || 'N/A'}</p>
          <p><i class="fa-solid fa-city mr-2 text-cyan-400"></i><b>Kota:</b> ${data.city || 'N/A'}</p>
          <p><i class="fa-solid fa-map-location-dot mr-2 text-cyan-400"></i><b>Wilayah:</b> ${data.region || 'N/A'}</p>
          <p><i class="fa-solid fa-globe mr-2 text-cyan-400"></i><b>Negara:</b> ${data.country || 'N/A'}</p>
          <p><i class="fa-solid fa-building mr-2 text-cyan-400"></i><b>Provider:</b> ${data.org || 'N/A'}</p>
          <p><i class="fa-solid fa-location-crosshairs mr-2 text-cyan-400"></i><b>Lokasi:</b> ${data.loc || 'N/A'}</p>
        `;
        myIpHasil.classList.remove('hidden');
      } catch (e) {
        console.error('Gagal fetch IP:', e);
        myIpLoading.classList.add('hidden');
        myIpError.textContent = 'Gagal mengambil informasi IP. Silakan coba lagi.';
        myIpError.classList.remove('hidden');
      }
    });
    
    // --- [DIUBAH] LOGIKA TOMBOL CEK IP HOST ---
    const hostnameInput = document.getElementById('hostnameInput');
    const cekHostBtn = document.getElementById('cekHostBtn');
    const hostLoading = document.getElementById('hostLoading');
    const hostError = document.getElementById('hostError');
    const hostHasil = document.getElementById('hostHasil');
    const hostOutput = document.getElementById('hostOutput');
    const copyHostBtn = document.getElementById('copyHostBtn');

    // [DIUBAH] Fungsi handleCekHostClick sekarang mengambil detail
    async function handleCekHostClick() {
      const hostname = hostnameInput.value.trim();
      if (!hostname) {
        alert('Silakan masukkan hostname terlebih dahulu.');
        return;
      }
      
      hostHasil.classList.add('hidden');
      hostError.classList.add('hidden');
      hostLoading.classList.remove('hidden');

      try {
        // Step 1: Ambil IP dari Google DNS
        const dnsResponse = await fetch(`https://dns.google/resolve?name=${encodeURIComponent(hostname)}`);
        if (!dnsResponse.ok) {
          throw new Error('Respon DNS tidak OK');
        }
        const dnsData = await dnsResponse.json();

        if (dnsData.Status !== 0) { // 0 = NOERROR
          throw new Error(`Hostname tidak ditemukan (Status: ${dnsData.Status})`);
        }

        if (!dnsData.Answer || dnsData.Answer.length === 0) {
          throw new Error("Tidak ada jawaban DNS untuk host tersebut.");
        }

        const ipAddresses = dnsData.Answer
          .filter(ans => ans.type === 1 || ans.type === 28) // 1=A (IPv4), 28=AAAA (IPv6)
          .map(ans => ans.data);
          
        if (ipAddresses.length === 0) {
           throw new Error("Tidak ditemukan record A atau AAAA.");
        }

        // Step 2: Buat array promise untuk mengambil detail setiap IP
        const fetchPromises = ipAddresses.map(ip =>
          fetch(`https://ipinfo.io/${ip}/json`)
            .then(res => {
              if (!res.ok) { throw new Error(`Status ${res.status}`); }
              return res.json();
            })
            .then(ipDetails => ({ ip, details: ipDetails }))
            .catch(e => ({ ip, error: e.message }))
        );

        // Step 3: Tunggu semua promise selesai
        const results = await Promise.all(fetchPromises);
        
        // Step 4: Format hasil
        let outputString = `Hostname: ${hostname}\n\n`;
        results.forEach(res => {
          outputString += `IP: ${res.ip}\n`;
          if (res.details) {
            outputString += `  Provider: ${res.details.org || 'N/A'}\n`;
            outputString += `  Lokasi  : ${res.details.city || 'N/A'}, ${res.details.region || 'N/A'}, ${res.details.country || 'N/A'}\n`;
          } else {
            outputString += `  (Gagal mengambil detail IP: ${res.error})\n`;
          }
          outputString += `\n`; // Spasi antar IP
        });

        hostLoading.classList.add('hidden');
        hostOutput.value = outputString;
        hostHasil.classList.remove('hidden');
        
      } catch (e) {
        console.error('Gagal DNS lookup:', e);
        hostLoading.classList.add('hidden');
        hostError.textContent = e.message || 'Gagal melakukan DNS lookup.';
        hostError.classList.remove('hidden');
      }
    }

    cekHostBtn.addEventListener('click', handleCekHostClick);
    hostnameInput.addEventListener('keypress', e => {
      if (e.key === 'Enter') cekHostBtn.click();
    });

    copyHostBtn.addEventListener('click', () => {
      const textToCopy = hostOutput.value;
      if (!textToCopy) return;

      navigator.clipboard.writeText(textToCopy).then(() => {
        const originalText = copyHostBtn.innerHTML;
        copyHostBtn.innerHTML = '<i class="fa-solid fa-check mr-1"></i>Tersalin!';
        copyHostBtn.classList.remove('bg-emerald-600', 'hover:bg-emerald-700');
        copyHostBtn.classList.add('bg-blue-500');
        
        setTimeout(() => {
          copyHostBtn.innerHTML = originalText;
          copyHostBtn.classList.remove('bg-blue-500');
          copyHostBtn.classList.add('bg-emerald-600', 'hover:bg-emerald-700');
        }, 2000);
        
      }).catch(err => {
        console.error('Gagal menyalin:', err);
        alert('Gagal menyalin ke clipboard.');
      });
    });

    // --- LOGIKA TOMBOL CONVERTER V2RAY (TETAP SAMA) ---
    
    const convertBtn = document.getElementById('convertBtn');
    const convertUrls = document.getElementById('convertUrls'); 
    const convertOutputFormat = document.getElementById('convertOutputFormat'); 
    const convertLoading = document.getElementById('convertLoading');
    const convertError = document.getElementById('convertError');
    const convertHasil = document.getElementById('convertHasil');
    const convertOutput = document.getElementById('convertOutput'); 
    const copyBtn = document.getElementById('copyBtn');

    function parseV2rayLink(link) {
      try {
        if (link.startsWith('vmess://')) {
          const base64String = link.substring(8);
          const paddedBase64 = base64String.replace(/-/g, '+').replace(/_/g, '/');
          const decoded = atob(paddedBase64);
          const json = JSON.parse(decoded);
          
          let wsOpts = undefined;
          if (json.net === 'ws') {
              wsOpts = {
                  path: json.path || '/',
                  headers: {}
              };
              if (json.host) {
                  wsOpts.headers.Host = json.host;
              }
          }
          
          let grpcOpts = undefined;
          if (json.net === 'grpc') {
              grpcOpts = {
                  'grpc-service-name': json.path || ''
              };
          }

          return {
            name: json.ps || json.add,
            type: 'vmess',
            server: json.add,
            port: parseInt(json.port),
            uuid: json.id,
            alterId: parseInt(json.aid) || 0,
            cipher: json.type || 'auto',
            tls: json.tls === 'tls' || parseInt(json.port) === 443,
            sni: json.sni || json.host || '',
            network: json.net || 'tcp',
            'ws-opts': wsOpts,
            'grpc-opts': grpcOpts
          };
          
        } else if (link.startsWith('vless://')) {
          const url = new URL(link);
          const params = url.searchParams;
          
          let wsOpts = undefined;
          if (params.get('type') === 'ws') {
              wsOpts = {
                  path: params.get('path') || '/',
                  headers: {}
              };
              if (params.get('host')) {
                  wsOpts.headers.Host = params.get('host');
              }
          }
          
          let grpcOpts = undefined;
          if (params.get('type') === 'grpc') {
              grpcOpts = {
                  'grpc-service-name': params.get('serviceName') || ''
              };
          }
          
          return {
            name: decodeURIComponent(url.hash.substring(1)) || url.hostname,
            type: 'vless',
            server: url.hostname,
            port: parseInt(url.port),
            uuid: url.username,
            tls: params.get('security') === 'tls',
            sni: params.get('sni') || '',
            network: params.get('type') || 'tcp',
            flow: params.get('flow') || undefined, 
            'ws-opts': wsOpts,
            'grpc-opts': grpcOpts
          };

        } else if (link.startsWith('trojan://')) {
          const url = new URL(link);
          const params = url.searchParams;

          let wsOpts = undefined;
          if (params.get('type') === 'ws') {
              wsOpts = {
                  path: params.get('path') || '/',
                  headers: {}
              };
              if (params.get('host')) {
                  wsOpts.headers.Host = params.get('host');
              }
          }
          
          let grpcOpts = undefined;
          if (params.get('type') === 'grpc') {
              grpcOpts = {
                  'grpc-service-name': params.get('serviceName') || ''
              };
          }

          return {
            name: decodeURIComponent(url.hash.substring(1)) || url.hostname,
            type: 'trojan',
            server: url.hostname,
            port: parseInt(url.port),
            password: url.username,
            tls: true,
            sni: params.get('sni') || url.hostname,
            network: params.get('type') || 'tcp',
            'ws-opts': wsOpts,
            'grpc-opts': grpcOpts
          };

        } else if (link.startsWith('ss://')) {
          const mainPart = link.substring(5).split('#')[0];
          const name = decodeURIComponent(link.split('#')[1] || '');
          
          let credentialsPart, serverPart;
          
          try {
            const paddedBase64 = mainPart.replace(/-/g, '+').replace(/_/g, '/');
            const decoded = atob(paddedBase64);
            [credentialsPart, serverPart] = decoded.split('@');
          } catch(e) {
            [credentialsPart, serverPart] = mainPart.split('@');
          }

          const [server, port] = serverPart.split(':');
          const [cipher, password] = credentialsPart.split(':');
          
          return {
            name: name || server,
            type: 'ss',
            server: server,
            port: parseInt(port),
            cipher: cipher,
            password: password
          };
        } else {
          console.warn('Format link tidak didukung:', link);
          return null; 
        }
      } catch (e) {
        console.error('Gagal parse link:', link, e);
        return null; 
      }
    }

    function createFullClashConfig(proxies) {
      const proxyNames = proxies.map(p => p.name);
      
      const config = {
        'port': 7890,
        'socks-port': 7891,
        'allow-lan': false,
        'mode': 'rule',
        'log-level': 'info',
        'external-controller': '127.0.0.1:9090',
        'dns': {
          'enable': true,
          'listen': '0.0.0.0:53',
          'nameserver': ['1.1.1.1', '8.8.8.8'],
          'fallback': []
        },
        'proxies': proxies,
        'proxy-groups': [
          {
            'name': 'PROXY',
            'type': 'select',
            'proxies': ['DIRECT', ...proxyNames]
          }
        ],
        'rules': [
          'MATCH,PROXY'
        ]
      };
      
      return jsyaml.dump(config);
    }

    convertBtn.addEventListener('click', () => {
      const links = convertUrls.value.split('\n').filter(Boolean); 
      const outputFormat = convertOutputFormat.value;
      
      if (links.length === 0) {
        alert('Silakan masukkan setidaknya satu link V2ray.');
        return;
      }
      
      convertHasil.classList.add('hidden');
      convertError.classList.add('hidden');
      convertLoading.classList.remove('hidden');

      setTimeout(() => {
        try {
          const proxies = links.map(parseV2rayLink).filter(Boolean); 
          
          if (proxies.length === 0) {
            throw new Error('Tidak ada link valid yang bisa diparse.');
          }

          let outputString = '';
          
          switch (outputFormat) {
            case 'json':
              outputString = JSON.stringify(proxies, null, 2);
              break;
              
            case 'clash_proxies':
              outputString = jsyaml.dump({ 'proxies': proxies });
              break;
              
            case 'clash_full':
              outputString = createFullClashConfig(proxies);
              break;
          }
          
          convertOutput.value = outputString;
          convertLoading.classList.add('hidden');
          convertHasil.classList.remove('hidden');

        } catch (e) {
          console.error('Gagal konversi:', e);
          convertLoading.classList.add('hidden');
          convertError.textContent = e.message || 'Gagal memproses link.';
          convertError.classList.remove('hidden');
        }
      }, 500);
    });

    copyBtn.addEventListener('click', () => {
      const textToCopy = convertOutput.value;
      if (!textToCopy) return;

      navigator.clipboard.writeText(textToCopy).then(() => {
        const originalText = copyBtn.innerHTML;
        copyBtn.innerHTML = '<i class="fa-solid fa-check mr-1"></i>Tersalin!';
        copyBtn.classList.remove('bg-emerald-600', 'hover:bg-emerald-700');
        copyBtn.classList.add('bg-blue-500');
        
        setTimeout(() => {
          copyBtn.innerHTML = originalText;
          copyBtn.classList.remove('bg-blue-500');
          copyBtn.classList.add('bg-emerald-600', 'hover:bg-emerald-700');
        }, 2000);
        
      }).catch(err => {
        console.error('Gagal menyalin:', err);
        alert('Gagal menyalin ke clipboard.');
      });
    });


    // --- JAVASCRIPT SLIDER (TETAP SAMA) ---
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const slideCount = slides.length; 
    const sliderDotsContainer = document.querySelector('.slider-dots');
    const prevSlideBtn = document.getElementById('prevSlideBtn');
    const nextSlideBtn = document.getElementById('nextSlideBtn');
    function createDots() {
      sliderDotsContainer.innerHTML = '';
      for (let i = 0; i < slideCount; i++) {
        const dot = document.createElement('span');
        dot.classList.add('dot');
        if (i === currentSlide) {
          dot.classList.add('active');
        }
        dot.addEventListener('click', () => {
          showSlide(i);
          resetAutoSlide();
        });
        sliderDotsContainer.appendChild(dot);
      }
    }
    function showSlide(n) {
      if (n >= slideCount) currentSlide = 0;
      else if (n < 0) currentSlide = slideCount - 1;
      else currentSlide = n;
      slides.forEach((slide, index) => {
        slide.classList.remove('active');
        if (index === currentSlide) {
          slide.classList.add('active');
        }
      });
      updateDots();
    }
    function updateDots() {
      const dots = document.querySelectorAll('.dot');
      dots.forEach((dot, index) => {
        dot.classList.remove('active');
        if (index === currentSlide) {
          dot.classList.add('active');
        }
      });
    }
    function nextSlide() { showSlide(currentSlide + 1); }
    function prevSlide() { showSlide(currentSlide - 1); }
    let autoSlideInterval;
    function startAutoSlide() { autoSlideInterval = setInterval(nextSlide, 5000); }
    function resetAutoSlide() { clearInterval(autoSlideInterval); startAutoSlide(); }
    createDots();
    showSlide(currentSlide);
    startAutoSlide();
    prevSlideBtn.addEventListener('click', () => { prevSlide(); resetAutoSlide(); });
    nextSlideBtn.addEventListener('click', () => { nextSlide(); resetAutoSlide(); });
    

    // --- JAVASCRIPT SIDEBAR (TETAP SAMA) ---
    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const sidebarMenu = document.getElementById('sidebarMenu');
    const sidebarOverlay = document.getElementById('sidebarOverlay');
    const closeSidebarBtn = document.getElementById('closeSidebarBtn');
    function openSidebar() {
      sidebarMenu.classList.remove('-translate-x-full');
      sidebarOverlay.classList.remove('hidden');
    }
    function closeSidebar() {
      sidebarMenu.classList.add('-translate-x-full');
      sidebarOverlay.classList.add('hidden');
    }
    hamburgerBtn.addEventListener('click', openSidebar);
    closeSidebarBtn.addEventListener('click', closeSidebar);
    sidebarOverlay.addEventListener('click', closeSidebar);
    

    // --- [DIUBAH] JAVASCRIPT NAVIGASI & MODAL ---
    
    // Ambil semua section
    const berandaSection = document.getElementById('berandaSection');
    const cekKuotaSection = document.getElementById('cekKuotaSection');
    const cekMyIpSection = document.getElementById('cekMyIpSection'); // [DIUBAH]
    const cekIpHostSection = document.getElementById('cekIpHostSection'); 
    const converterSection = document.getElementById('converterSection');
    
    // Ambil tombol Navigasi DESKTOP
    const berandaNavBtnDesktop = document.getElementById('berandaNavBtnDesktop');
    const cekKuotaNavBtnDesktop = document.getElementById('cekKuotaNavBtnDesktop');
    const cekMyIpNavBtnDesktop = document.getElementById('cekMyIpNavBtnDesktop'); // [DIUBAH]
    const cekIpHostNavBtnDesktop = document.getElementById('cekIpHostNavBtnDesktop'); 
    const converterNavBtnDesktop = document.getElementById('converterNavBtnDesktop');
    const aboutNavBtnDesktop = document.getElementById('aboutNavBtnDesktop');
    
    // Ambil tombol Navigasi MOBILE (dari sidebar)
    const berandaNavBtnMobile = document.getElementById('berandaNavBtnMobile');
    const cekKuotaNavBtnMobile = document.getElementById('cekKuotaNavBtnMobile');
    const cekMyIpNavBtnMobile = document.getElementById('cekMyIpNavBtnMobile'); // [DIUBAH]
    const cekIpHostNavBtnMobile = document.getElementById('cekIpHostNavBtnMobile'); 
    const converterNavBtnMobile = document.getElementById('converterNavBtnMobile');
    const aboutNavBtnMobile = document.getElementById('aboutNavBtnMobile');
    
    // Ambil tombol Kartu
    const cekKuotaCardBtn = document.getElementById('cekKuotaCardBtn');
    const cekMyIpCardBtn = document.getElementById('cekMyIpCardBtn'); // [DIUBAH]
    const cekIpHostCardBtn = document.getElementById('cekIpHostCardBtn'); 
    const converterCardBtn = document.getElementById('converterCardBtn');
    const aboutCardBtn = document.getElementById('aboutCardBtn');
    
    // Ambil elemen Modal
    const aboutModal = document.getElementById('aboutModal');
    const closeModalBtn = document.getElementById('closeModalBtn');

    // Fungsi navigasi
    function showBeranda() {
      berandaSection.classList.remove('hidden');
      cekKuotaSection.classList.add('hidden');
      cekMyIpSection.classList.add('hidden'); // [DIUBAH]
      cekIpHostSection.classList.add('hidden'); 
      converterSection.classList.add('hidden');
      
      berandaNavBtnDesktop.classList.add('nav-active');
      cekKuotaNavBtnDesktop.classList.remove('nav-active');
      cekMyIpNavBtnDesktop.classList.remove('nav-active'); // [DIUBAH]
      cekIpHostNavBtnDesktop.classList.remove('nav-active'); 
      converterNavBtnDesktop.classList.remove('nav-active');
      
      berandaNavBtnMobile.classList.add('nav-active');
      cekKuotaNavBtnMobile.classList.remove('nav-active');
      cekMyIpNavBtnMobile.classList.remove('nav-active'); // [DIUBAH]
      cekIpHostNavBtnMobile.classList.remove('nav-active'); 
      converterNavBtnMobile.classList.remove('nav-active');
      
      closeSidebar();
    }

    function showCekKuota() {
      berandaSection.classList.add('hidden');
      cekKuotaSection.classList.remove('hidden');
      cekMyIpSection.classList.add('hidden'); // [DIUBAH]
      cekIpHostSection.classList.add('hidden'); 
      converterSection.classList.add('hidden');
      
      berandaNavBtnDesktop.classList.remove('nav-active');
      cekKuotaNavBtnDesktop.classList.add('nav-active');
      cekMyIpNavBtnDesktop.classList.remove('nav-active'); // [DIUBAH]
      cekIpHostNavBtnDesktop.classList.remove('nav-active'); 
      converterNavBtnDesktop.classList.remove('nav-active');
      
      berandaNavBtnMobile.classList.remove('nav-active');
      cekKuotaNavBtnMobile.classList.add('nav-active');
      cekMyIpNavBtnMobile.classList.remove('nav-active'); // [DIUBAH]
      cekIpHostNavBtnMobile.classList.remove('nav-active'); 
      converterNavBtnMobile.classList.remove('nav-active');
      
      closeSidebar();
    }

    // [DIUBAH] Fungsi showCekMyIp
    function showCekMyIp() {
      berandaSection.classList.add('hidden');
      cekKuotaSection.classList.add('hidden');
      cekMyIpSection.classList.remove('hidden'); 
      cekIpHostSection.classList.add('hidden'); 
      converterSection.classList.add('hidden');
      
      berandaNavBtnDesktop.classList.remove('nav-active');
      cekKuotaNavBtnDesktop.classList.remove('nav-active');
      cekMyIpNavBtnDesktop.classList.add('nav-active'); 
      cekIpHostNavBtnDesktop.classList.remove('nav-active'); 
      converterNavBtnDesktop.classList.remove('nav-active');
      
      berandaNavBtnMobile.classList.remove('nav-active');
      cekKuotaNavBtnMobile.classList.remove('nav-active');
      cekMyIpNavBtnMobile.classList.add('nav-active'); 
      cekIpHostNavBtnMobile.classList.remove('nav-active'); 
      converterNavBtnMobile.classList.remove('nav-active');
      
      closeSidebar();
    }

    function showCekIpHost() {
      berandaSection.classList.add('hidden');
      cekKuotaSection.classList.add('hidden');
      cekMyIpSection.classList.add('hidden'); // [DIUBAH]
      cekIpHostSection.classList.remove('hidden'); 
      converterSection.classList.add('hidden');
      
      berandaNavBtnDesktop.classList.remove('nav-active');
      cekKuotaNavBtnDesktop.classList.remove('nav-active');
      cekMyIpNavBtnDesktop.classList.remove('nav-active'); // [DIUBAH]
      cekIpHostNavBtnDesktop.classList.add('nav-active'); 
      converterNavBtnDesktop.classList.remove('nav-active');
      
      berandaNavBtnMobile.classList.remove('nav-active');
      cekKuotaNavBtnMobile.classList.remove('nav-active');
      cekMyIpNavBtnMobile.classList.remove('nav-active'); // [DIUBAH]
      cekIpHostNavBtnMobile.classList.add('nav-active');
      converterNavBtnMobile.classList.remove('nav-active');
      
      closeSidebar(); 
    }

    function showConverter() {
      berandaSection.classList.add('hidden');
      cekKuotaSection.classList.add('hidden');
      cekMyIpSection.classList.add('hidden'); // [DIUBAH]
      cekIpHostSection.classList.add('hidden'); 
      converterSection.classList.remove('hidden'); 
      
      berandaNavBtnDesktop.classList.remove('nav-active');
      cekKuotaNavBtnDesktop.classList.remove('nav-active');
      cekMyIpNavBtnDesktop.classList.remove('nav-active'); // [DIUBAH]
      cekIpHostNavBtnDesktop.classList.remove('nav-active'); 
      converterNavBtnDesktop.classList.add('nav-active'); 
      
      berandaNavBtnMobile.classList.remove('nav-active');
      cekKuotaNavBtnMobile.classList.remove('nav-active');
      cekMyIpNavBtnMobile.classList.remove('nav-active'); // [DIUBAH]
      cekIpHostNavBtnMobile.classList.remove('nav-active'); 
      converterNavBtnMobile.classList.add('nav-active');
      
      closeSidebar(); 
    }

    function openAboutModal(e) {
      e.preventDefault();
      aboutModal.classList.remove('hidden');
      closeSidebar();
    }
    
    function closeAboutModal() {
      aboutModal.classList.add('hidden');
    }

    // [DIUBAH] Event Listeners
    
    berandaNavBtnDesktop.addEventListener('click', (e) => { e.preventDefault(); showBeranda(); });
    berandaNavBtnMobile.addEventListener('click', (e) => { e.preventDefault(); showBeranda(); });

    cekKuotaNavBtnDesktop.addEventListener('click', (e) => { e.preventDefault(); showCekKuota(); });
    cekKuotaNavBtnMobile.addEventListener('click', (e) => { e.preventDefault(); showCekKuota(); });
    
    // [DIUBAH] Listener untuk Cek MyIp
    cekMyIpNavBtnDesktop.addEventListener('click', (e) => { e.preventDefault(); showCekMyIp(); });
    cekMyIpNavBtnMobile.addEventListener('click', (e) => { e.preventDefault(); showCekMyIp(); });

    cekIpHostNavBtnDesktop.addEventListener('click', (e) => { e.preventDefault(); showCekIpHost(); });
    cekIpHostNavBtnMobile.addEventListener('click', (e) => { e.preventDefault(); showCekIpHost(); });

    converterNavBtnDesktop.addEventListener('click', (e) => { e.preventDefault(); showConverter(); });
    converterNavBtnMobile.addEventListener('click', (e) => { e.preventDefault(); showConverter(); });

    // [DIUBAH] Menambahkan listener untuk kartu
    cekKuotaCardBtn.addEventListener('click', showCekKuota);
    cekMyIpCardBtn.addEventListener('click', showCekMyIp); // [DIUBAH]
    cekIpHostCardBtn.addEventListener('click', showCekIpHost); 
    converterCardBtn.addEventListener('click', showConverter);
    
    aboutNavBtnDesktop.addEventListener('click', openAboutModal);
    aboutNavBtnMobile.addEventListener('click', openAboutModal);
    aboutCardBtn.addEventListener('click', openAboutModal);
    closeModalBtn.addEventListener('click', closeAboutModal);
    aboutModal.addEventListener('click', (e) => {
      if (e.target === aboutModal) closeAboutModal();
    });
    
  </script>
</body>
</html>
